<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="">
<meta name="author" content="">

<title>New HMTL document by NewJect</title>

</head>
<body>

<div>
    <canvas id="myCanvas" width="" height="">
      your browser doesn't support canvas!
    </canvas>
</div>
<script>
//    预载贴图
    var image={
        npc:[],
        decorate:[],
        background:[]        
    }   
    image.npc[0]=new Image();
    image.npc[0].src="./img/角色行走图.png";
    image.background[0]=new Image();
    image.background[0].src="./img/001草地.png";
//    线程组
    var time={
        run_up:setInterval(function)
    };
//    载入地图
//    var map=[30][30];
    var map=new Array();
    for(var i=0;i<30;i++){
        map[i]=new Array();
    }
    map[2][2]=image.background[0];
    
//    创建画布并设置画布宽高
    var canvas=document.getElementById('myCanvas');
    var C_width =(document.documentElement.clientWidth)*(0.95);
    var C_height =(document.documentElement.clientHeight)*(0.95);
    canvas.width = C_width;
    canvas.height = C_height;
    var context = canvas.getContext('2d');
//    数据加载侦听
    image.background[0].onload=function(){
        Load_judge();
    }
//    数据是否加载完毕判断
    function Load_judge(){
//        判断语句
//        ....        
        if(true){
           draw_map();
            
           }
        if(true){
           draw_npc();
//        绑定按键
            window.onkeydown=function(){
                var keycode=this.event.keyCode;
                switch(keycode){
                    case 38:break;
                    case 40:break;
                    case 37:break;
                    case 39:break;
                    default:break;
                }
            }
            window.onkeyup=function(){
                var keycode=this.event.keyCode;
                switch(keycode){
                    case 38:break;
                    case 40:break;
                    case 37:break;
                    case 39:break;
                    default:break;
                }
            }
           }
    }
//    绘制地图
    function draw_map(){    
        for(var i=0;i<15;i++){
            for(var y=0;y<10;y++){
                context.drawImage(image.background[0],(i*50),(y*50));
            }        
        }
    }
    function draw_npc(){
        context.drawImage(image.npc[0],0,0,100,100,350,200,100,100);
    }
    function npc_run(action){
        switch(action){
            case 1:break;
            case 2:break;
            case 3:break;
            case 4:break;
            default:break;
        }
    }
    </script>
</body>
</html>